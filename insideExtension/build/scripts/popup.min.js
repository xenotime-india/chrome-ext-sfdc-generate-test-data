$(function(){chrome.tabs.query({active:!0,currentWindow:!0},function(e){if(!isBlank(e[0])){var n=getParser(e[0].url),r=/.com\/(\w{15})/g.exec(e[0].url);if(n.hostname.indexOf("salesforce.com")>=0&&r)return callPage({mode:"GET_METADATA"});jQuery("#some-code").html("\n\nIt looks like you are opening me on a \nnon-Salesforce.com domain or non-sobject detail page...\n\n\n:-("),jQuery(".holder").hide()}}),chrome.runtime.onMessage.addListener(function(e,n,r){200==e.status&&"GET_METADATA"==e.action&&makeApexCode({fields:e.fields,values:e.values,sobject:e.sobject})})});var callPage=function(e){chrome.tabs.query({active:!0,currentWindow:!0},function(n){if(0!=n.length)try{chrome.tabs.executeScript(n[0].id,{code:"var data = "+JSON.stringify(e)+";"},function(){chrome.tabs.executeScript(n[0].id,{file:"scripts/inlineExecute.min.js"},function(){})})}catch(e){return{error:e}}})},makeApexCode=function(e){var n={};e.fields.forEach(function(e){var r={};r[e.name]={label:e.label,type:e.type},Object.assign(n,r)});var r=e.values;if(isBlank(n))return showCustomDomain({error:!0});getObjectIdFromUri(window.location.href);var t=e.sobject.name;if(isBlank(t))return alert("sObject ERROR!");for(var o=t+" sobj = new "+t+"(",i=[],a=[],l=0,s=0,c=0;c<r.length;c++){var u=r[c],d=u.value;isBlank(d)&&(d=" "),d=d.toString().rtrim();for(var f in n)if("CreatedBy"!=f&&"LastModifiedBy"!=f&&"Owner"!=f){var m=getFieldCode(u,n[f]);if(null!=m){var h="\n  "+f+" = "+m;isBlank(d)||s++,i.push({code:h,isBlank:isBlank(d)}),a.push("// "+u.label),l=h.length>l?h.length:l}}}var g=0;for(c=0;c<i.length;c++){var v=i[c],b=(h=v.code,getSpaceByNum(l-h.length)),j=0==c?"":"  ";if(!v.isBlank)o+=h+(++g==s?"":",")+j+b+a[c];h+(c==i.length-1?"":",")+j+b+a[c]}o+="\n);\ninsert sobj;",jQuery("#some-code").html(o),Prism.highlightElement(jQuery("#some-code")[0]),jQuery(".holder").hide()};
//# sourceMappingURL=popup.min.js.map
